<!DOCTYPE html>
<html>
<head>
    <title>Process Discovery</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Process Discovery</h1>
    <div id="cpuChart"></div>
    <div id="memoryChart"></div>

    <script>
        var processData = {{ processes | safe }};

        // Extract process names
        var processNames = processData.map(function (process) {
            return process.name;
        });

        // Extract CPU usage values
        var cpuUsageData = processData.map(function (process) {
            return {
                x: process.cpu_time,
                y: process.cpu_usage,
                mode: 'lines',
                type: 'scatter',
                name: process.name + ' - CPU Usage (%)'
            };
        });

        // Extract memory usage values
        var memoryUsageData = processData.map(function (process) {
            return {
                x: process.memory_time,
                y: process.memory_usage,
                mode: 'lines',
                type: 'scatter',
                name: process.name + ' - Memory Usage (%)'
            };
        });

        // Layout for CPU usage chart
        var cpuLayout = {
            title: 'CPU Usage Time Series',
            xaxis: { title: 'Time' },
            yaxis: { title: 'CPU Usage (%)' }
        };

        // Layout for memory usage chart
        var memoryLayout = {
            title: 'Memory Usage Time Series',
            xaxis: { title: 'Time' },
            yaxis: { title: 'Memory Usage (%)' }
        };

        // Render CPU usage chart
        Plotly.newPlot('cpuChart', cpuUsageData, cpuLayout);

        // Render memory usage chart
        Plotly.newPlot('memoryChart', memoryUsageData, memoryLayout);
    </script>
</body>
</html>
